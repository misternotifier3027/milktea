(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[643],{1153:function(l,e,s){Promise.resolve().then(s.bind(s,6661))},6661:function(l,e,s){"use strict";s.r(e);var i=s(7437),n=s(7138);let{useState:d}=s(2265);e.default=()=>{let[l,e]=d(""),[s,a]=d([]),[r,c]=d(!1),t=()=>{let e=async()=>{let e=await fetch("/api/order/search/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:l})});e.ok&&(a(await e.json()),c(!1))};""!=l&&(c(!0),e())},x=l=>{let e=l.toString().split("").reverse().join(""),s="";for(let l=0;l<e.length;l++)s+=e[l],(l+1)%3==0&&l+1!==e.length&&(s+=".");return s.split("").reverse().join("")+" đ"};return(0,i.jsx)("div",{className:"bg-white w-full min-h-screen",children:(0,i.jsxs)("div",{className:"xl:w-2/3 md:w-full md:px-2 mx-auto pt-10",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)(n.default,{href:"/",type:"button",className:"md:absolute text-black bg-gray p-2 ml-auto inline-flex justify-center items-center",children:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-6",children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z",clipRule:"evenodd"})})}),(0,i.jsxs)("div",{className:"flex p-2 gap-2 border border-body bg-gray rounded-md w-full max-w-xl mx-auto",children:[(0,i.jsx)("input",{value:l,onChange:l=>e(l.target.value),type:"text",className:"w-full bg-gray text-black outline-none placeholder:text-body",placeholder:"Nhập số điện thoại của bạn"}),(0,i.jsx)("svg",{onClick:()=>t(),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6 mx-2 cursor-pointer",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})]})]}),(0,i.jsx)("div",{className:"pt-10",children:r?(0,i.jsx)("div",{class:"flex items-center justify-center h-screen",children:(0,i.jsxs)("div",{class:"relative",children:[(0,i.jsx)("div",{class:"h-24 w-24 rounded-full border-t-8 border-b-8 border-gray-200"}),(0,i.jsx)("div",{class:"absolute top-0 left-0 h-24 w-24 rounded-full border-t-8 border-b-8 border-blue-500 animate-spin"})]})}):(0,i.jsx)("div",{className:"",children:s.map((l,e)=>(0,i.jsxs)("div",{className:"mt-5 rounded-md bg-gray shadow-md p-2",children:[(0,i.jsxs)("div",{class:"w-full px-4 mx-auto flex md:flex-row flex-col",children:[(0,i.jsxs)("div",{class:"flex gap-3 w-full mb-1",children:[(0,i.jsx)("div",{children:"T\xean người nhận: "}),(0,i.jsx)("div",{children:l.name})]}),(0,i.jsxs)("div",{class:"flex gap-3 w-full mb-1",children:[(0,i.jsx)("div",{children:"Số điện thoại: "}),(0,i.jsx)("div",{children:l.phone})]})]}),"giaohang"==l.type&&(0,i.jsx)("div",{class:"w-full px-4 mx-auto flex",children:(0,i.jsxs)("div",{class:"flex gap-3 w-full mb-1",children:[(0,i.jsx)("div",{children:"Địa chỉ: "}),(0,i.jsx)("div",{children:l.address})]})}),(0,i.jsxs)("div",{class:"w-full px-4 mx-auto flex md:flex-row flex-col",children:[(0,i.jsxs)("div",{class:"flex gap-3 w-full mb-1",children:[(0,i.jsx)("div",{children:"Loại đơn h\xe0ng: "}),(0,i.jsx)("div",{children:"giaohang"==l.type?"Giao hàng":"Tự đến lấy"})]}),(0,i.jsxs)("div",{class:"flex gap-3 w-full mb-1",children:[(0,i.jsx)("div",{children:"Thời gian muốn giao: "}),(0,i.jsx)("div",{children:l.timeReceive})]})]}),(0,i.jsxs)("div",{class:"w-full px-4 mx-auto flex md:flex-row flex-col",children:[(0,i.jsxs)("div",{class:"flex gap-3 w-full mb-1",children:[(0,i.jsx)("div",{children:"Phương thức thanh to\xe1n: "}),(0,i.jsx)("div",{children:l.paymentMethod})]}),(0,i.jsxs)("div",{class:"flex gap-3 w-full mb-1",children:[(0,i.jsx)("div",{children:"T\xecnh trạng thanh to\xe1n: "}),(0,i.jsx)("div",{children:l.paymentStatus?"Đã thanh to\xe1n":"Chưa thanh to\xe1n"})]})]}),(0,i.jsx)("div",{class:"w-full px-4 mx-auto flex",children:(0,i.jsx)("div",{class:"flex gap-3 w-full mb-1",children:(0,i.jsxs)("div",{children:["Tổng bill: ",x(l.total)]})})}),(0,i.jsx)("div",{children:(0,i.jsx)("div",{class:"w-full px-4 mx-auto flex",children:(0,i.jsxs)("div",{class:"gap-3 w-full mb-1",children:[(0,i.jsx)("div",{className:"font-bold",children:"Sản phẩm: "}),(0,i.jsx)("div",{className:"mx-5",children:l.orderItems.map((e,s)=>(0,i.jsxs)("div",{className:"flex md:gap-3 w-full mb-1 md:flex-row flex-col py-2 ".concat(s==l.orderItems.length-1?"":"border-b"," "),children:[(0,i.jsx)("div",{className:"w-full",children:e.productSize.product.name+" - "+e.productSize.name}),(0,i.jsxs)("div",{className:"w-full",children:["Số lượng: ",e.quantity]}),(0,i.jsxs)("div",{className:"w-full",children:["Topping:",e.orderTopping.map((l,e)=>(0,i.jsx)("div",{children:l.topping.name+" x"+l.quantity},e))]}),(0,i.jsxs)("div",{className:"w-full text-wrap",children:["Ghi ch\xfa: ",e.note]})]},s))})]})})}),(0,i.jsx)("div",{class:"w-full px-4 mx-auto flex",children:(0,i.jsx)("div",{class:"flex gap-3 w-full mb-1",children:(0,i.jsxs)("div",{children:["Ghi ch\xfa: ",l.note]})})}),(0,i.jsx)("div",{class:"w-full px-4 ",children:(0,i.jsxs)("div",{class:" flex gap-3 w-full mb-1",children:[(0,i.jsx)("div",{className:"font-bold",children:"Trạng th\xe1i: "}),0==l.status&&(0,i.jsx)("div",{className:"",children:"Chưa x\xe1c nhận"}),1==l.status&&(0,i.jsx)("div",{className:"",children:"Đ\xe3 x\xe1c nhận"}),2==l.status&&(0,i.jsx)("div",{className:"",children:"Đang giao h\xe0ng"}),3==l.status&&(0,i.jsx)("div",{className:"",children:"Đ\xe3 ho\xe0n th\xe0nh"})]})})]},e))})})]})})}},7138:function(l,e,s){"use strict";s.d(e,{default:function(){return n.a}});var i=s(231),n=s.n(i)}},function(l){l.O(0,[231,971,23,744],function(){return l(l.s=1153)}),_N_E=l.O()}]);