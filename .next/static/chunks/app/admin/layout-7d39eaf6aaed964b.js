(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91],{8014:function(e,t,n){Promise.resolve().then(n.bind(n,2034))},2034:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(7437);n(4332);var s=n(2265),d=()=>(0,r.jsx)("div",{className:"flex h-screen items-center justify-center bg-white dark:bg-black",children:(0,r.jsx)("div",{className:"h-16 w-16 animate-spin rounded-full border-4 border-solid border-primary border-t-transparent"})}),a=n(4999),i=n(998),o=e=>{let{children:t,session:n}=e;return(0,r.jsx)(i.SessionProvider,{session:n,children:t})};function l(e){let{children:t}=e,[n,i]=(0,s.useState)(!0),[l,c]=(0,s.useState)(!1),[u,f]=(0,s.useState)(!1);setTimeout(()=>{i(!1)},1e3);let[m,h]=(0,s.useState)(null),[x,b]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{setTimeout(()=>i(!1),1e3),(async()=>{h((0,a.ZP)({path:"/api/socket",addTrailingSlash:!1}))})();let e=e=>{m&&m.disconnect()};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e),m&&m.disconnect()}},[]),(0,s.useEffect)(()=>(m&&m.on("new order",()=>{b(!0)}),()=>{m&&m.off("new order")}),[m]),(0,s.useEffect)(()=>{x&&(u&&new Audio("/assets/sound.mp3").play(),setTimeout(()=>b(!1),5e3))},[x]),(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{suppressHydrationWarning:!0,children:(0,r.jsxs)(o,{children:[x&&(0,r.jsx)("div",{className:"absolute z-9999 px-10 py-5 top-5 left-1/2 -translate-x-1/2 dark:bg-white dark:text-black bg-bodydark text-white ",children:"Đơn h\xe0ng mới!!!"}),!l&&!n&&(0,r.jsx)("div",{tabindex:"-1",className:"fixed top-0 left-0 right-0 z-50 p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full",children:(0,r.jsx)("div",{className:"relative m-auto mt-20 w-full max-w-md max-h-full",children:(0,r.jsx)("div",{className:"relative bg-white rounded-lg shadow-md dark:bg-bodydark",children:(0,r.jsxs)("div",{className:"p-6 text-center",children:[(0,r.jsx)("h3",{className:"mb-5 text-lg font-normal text-black",children:"X\xe1c nhận bật \xe2m thanh th\xf4ng b\xe1o?"}),(0,r.jsxs)("div",{className:"flex justify-around",children:[(0,r.jsx)("button",{onClick:()=>{c(!0),f(!0)},type:"button",className:"text-white bg-green-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 dark:focus:ring-red-800 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center mr-2",children:"Bật"}),(0,r.jsx)("button",{onClick:()=>{c(!0),f(!1)},type:"button",className:" dark:bg-bodydark1 text-black focus:ring-4 focus:outline-none focus:ring-gray-200 rounded-lg border text-sm font-medium px-5 py-2.5 focus:z-10 ",children:"Tắt"})]})]})})})}),(0,r.jsx)("div",{className:"dark:bg-boxdark-2 dark:text-bodydark",children:n?(0,r.jsx)(d,{}):t})]})})})}},4332:function(){}},function(e){e.O(0,[228,998,999,971,23,744],function(){return e(e.s=8014)}),_N_E=e.O()}]);