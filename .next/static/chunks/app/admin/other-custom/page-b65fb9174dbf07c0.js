(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[207],{371:function(e,t,a){Promise.resolve().then(a.bind(a,3501))},3501:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var l=a(7437),s=a(2265),n=a(6648),r=e=>{let{isOpen:t,onClose:a,childData:n,inputTypes:r}=e,[d,i]=(0,s.useState)(null),[c,o]=(0,s.useState)(r);(0,s.useEffect)(()=>{o(r)},[r]);let[m,u]=(0,s.useState)({id:n?n.id:"",name:n?n.name:"",parentName:n?n.parentName:""});return(0,s.useEffect)(()=>{u({id:n?n.id:"",name:n?n.name:"",parentName:n?n.parentName:""})},[n]),t&&(0,l.jsx)("div",{tabindex:"-1",className:"fixed top-0 left-0 right-0 z-50 p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full",children:(0,l.jsx)("div",{className:"relative m-auto mt-20 w-full max-w-md max-h-full",children:(0,l.jsxs)("div",{className:"relative bg-white rounded-lg shadow-md dark:bg-boxdark",children:[(0,l.jsxs)("button",{onClick:()=>{a(null)},type:"button",className:"absolute top-3 right-2.5 dark:text-white text-black bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ml-auto inline-flex justify-center items-center dark:hover:bg-gray-600",children:[(0,l.jsx)("svg",{className:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:(0,l.jsx)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})}),(0,l.jsx)("span",{className:"sr-only",children:"Close modal"})]}),(0,l.jsx)("div",{className:"p-6 text-center",children:(0,l.jsxs)("div",{class:"px-4 lg:px-10 py-10 w-full ",children:[(0,l.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!m.name||!m.parentName){i("Vui l\xf2ng điền đầy đủ th\xf4ng tin!");return}i(null),a(m)},children:[(0,l.jsx)("div",{class:"w-full px-4 mx-auto",children:(0,l.jsxs)("div",{class:"relative w-full mb-3",children:[(0,l.jsx)("label",{class:"block uppercase text-gray-200 text-xs font-bold mb-2",children:"T\xean lựa chọn"}),(0,l.jsx)("input",{value:m.name,type:"text",placeholder:"T\xean lựa chọn",onChange:e=>{u({...m,name:e.target.value})},className:"border-0 px-3 py-3 placeholder-bodydark2 text-black dark:bg-bodydark bg-white rounded text-sm shadow-4 focus:outline-none focus:ring w-full ease-linear transition-all duration-150"})]})}),(0,l.jsx)("div",{class:"w-full px-4 mx-auto",children:(0,l.jsxs)("div",{class:"relative w-full mb-3",children:[(0,l.jsx)("label",{class:"block uppercase text-gray-200 text-xs font-bold mb-2",children:"T\xf9y chọn"}),(0,l.jsx)("select",{value:m.parentName,required:!0,onChange:e=>u({...m,parentName:e.target.value}),className:"text-black border-0 px-3 py-3 dark:bg-bodydark bg-white rounded text-sm shadow-4 focus:outline-none focus:ring w-full ease-linear",children:c.map((e,t)=>(0,l.jsx)("option",{className:"dark:text-black",value:e,children:e},t))})]})}),(0,l.jsx)("div",{className:"text-center",children:(0,l.jsx)("input",{type:"submit",role:"button",className:"mt-5 cursor-pointer bg-black text-white dark:bg-whiten dark:text-black px-3 py-2 rounded-xl",value:"X\xe1c nhận"})})]}),d?(0,l.jsx)("div",{className:"text-white mt-3 bg-red rounded-lg px-3 py-2",children:d}):(0,l.jsx)(l.Fragment,{})]})})]})})})},d=()=>{let[e,t]=(0,s.useState)(null);(0,s.useEffect)(()=>{(async()=>{let e=await fetch("/api/other-custom"),a=await e.json();null!=a&&"{}"!==JSON.stringify(a)?t(a.data):t([])})()},[]);let[a,d]=(0,s.useState)({status:!1,message:""}),i=async()=>{let t=e.filter(e=>null!=e&&""!=e.name);(await fetch("/api/other-custom",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:t})})).ok?d({status:!0,message:"Cập nhật th\xe0nh c\xf4ng"}):d({status:!1,message:"Cập nhật thất bại"})},[c,o]=(0,s.useState)(!1),[m,u]=(0,s.useState)(""),[x,h]=(0,s.useState)(!1),[p,b]=(0,s.useState)(null),[g,f]=(0,s.useState)(null);(0,s.useEffect)(()=>{p&&h(!0)},[p]);let v=()=>new Date().getTime().toString(36)+Math.random().toString(36).substring(2),w=a=>{"add"===g?t(e.map(e=>e.name===a.parentName?{...e,data:[...e.data,a]}:e)):t(e.map(e=>({...e,data:e.data.map(e=>e.id===a.id?a:e)}))),b(null)},k=a=>{t(e.map(e=>({...e,data:e.data.filter(e=>e.id!==a)})))};return e&&(0,l.jsxs)("div",{children:[c&&(0,l.jsx)("div",{tabindex:"-1",className:"fixed top-0 left-0 right-0 z-50 p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-screen max-h-full",children:(0,l.jsx)("div",{className:"relative m-auto mt-20 w-full max-w-xl max-h-full",children:(0,l.jsxs)("div",{className:"relative bg-white rounded-lg shadow-md dark:bg-boxdark",children:[(0,l.jsxs)("button",{onClick:()=>{o(!1)},type:"button",className:"absolute top-3 right-2.5 dark:text-white text-black bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ml-auto inline-flex justify-center items-center dark:hover:bg-gray-600",children:[(0,l.jsx)("svg",{className:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:(0,l.jsx)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})}),(0,l.jsx)("span",{className:"sr-only",children:"Close modal"})]}),(0,l.jsx)("div",{className:"p-6 text-center",children:(0,l.jsxs)("div",{class:"px-4 lg:px-10 py-10 w-full ",children:[(0,l.jsx)("div",{class:"w-full px-4 mx-auto",children:(0,l.jsxs)("div",{class:"relative w-full mb-3",children:[(0,l.jsx)("label",{className:"font-medium",children:"T\xf9y chọn"}),(0,l.jsx)("input",{type:"text",onChange:e=>u(e.target.value),className:"w-full text-black rounded-md border border-bodydark px-2 py-1 focus:outline-primary-500 mt-1"})]})}),(0,l.jsx)("div",{className:"",children:(0,l.jsx)("button",{onClick:()=>{""!==m&&(t([...e,{name:m,data:[]}]),o(!1),u(""))},className:"bg-black dark:bg-white text-white dark:text-black px-4 py-2 rounded-md mx-auto",children:"Th\xeam"})})]})})]})})}),(0,l.jsxs)("div",{className:"flex justify-between items-center mt-5",children:[(0,l.jsx)("div",{children:(0,l.jsx)("button",{onClick:()=>o(!0),className:"bg-black dark:bg-white text-white dark:text-black px-4 py-2 rounded-md",children:"Th\xeam t\xf9y chọn"})}),(0,l.jsx)("div",{children:(0,l.jsx)("button",{onClick:()=>{b({id:v(),name:"",parentName:e[0]?e[0].name:""}),f("add")},className:"bg-black dark:bg-white text-white dark:text-black px-4 py-2 rounded-md",children:"Th\xeam lựa chọn"})})]}),(0,l.jsx)("div",{children:e.map((a,s)=>(0,l.jsxs)("div",{className:"my-5 pb-5 dark:border-white border-dark ".concat(s==e.length-1?"":" border-b"),children:[(0,l.jsx)("div",{className:"uppercase text-gray-200 font-bold mb-2",children:"T\xf9y chọn"}),(0,l.jsx)("input",{type:"text",value:a.name,onChange:a=>{t(e.map((e,t)=>t===s?{...e,name:a.target.value}:e))},className:"w-full text-black border-2 border-gray-200 dark:border-gray-600 rounded-md p-2"}),(0,l.jsx)("div",{className:"uppercase text-gray-200 font-bold mt-3",children:"C\xe1c lựa chọn"}),(0,l.jsx)("div",{className:"flex lg:flex-row flex-col items-stretch gap-10 mt-4",children:a.data.map((e,t)=>(0,l.jsxs)("div",{className:"flex gap-3 items-center flex-1 mx-auto  cursor-pointer flex-wrap",children:[(0,l.jsx)("div",{onClick:()=>{b(e),f("update")},children:e.name}),(0,l.jsx)(n.default,{className:"w-5 h-5 cursor-pointer",onClick:()=>{k(e.id)},src:"/images/remove.svg",width:35,height:35})]},t))})]},s))}),(0,l.jsx)(r,{onClose:e=>{h(!1),e&&w(e)},childData:p,isOpen:x,inputTypes:e.map(e=>e.name)}),(0,l.jsx)("div",{className:"text-center my-5",children:(0,l.jsx)("button",{onClick:i,className:"bg-black dark:bg-white text-white dark:text-black px-4 py-2 rounded-md",children:"X\xe1c nhận"})}),a.status&&a.message&&(0,l.jsx)("div",{className:"text-center text-green-500 mt-4",children:a.message}),!a.status&&a.message&&(0,l.jsx)("div",{className:"text-center text-red mt-4",children:a.message})]})}},291:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return l}});let l=a(9920)._(a(2265)).default.createContext(null)}},function(e){e.O(0,[648,971,23,744],function(){return e(e.s=371)}),_N_E=e.O()}]);