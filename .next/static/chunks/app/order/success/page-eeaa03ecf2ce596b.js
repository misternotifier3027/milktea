(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[811],{3373:function(e,t,n){Promise.resolve().then(n.bind(n,6360))},6360:function(e,t,n){"use strict";n.r(t);var a=n(7437),r=n(4971),s=n(7138),o=n(2265),i=n(4999);t.default=()=>{let[e,t]=(0,o.useState)(null);(0,o.useEffect)(()=>{(async()=>{let e=await fetch("/api/store");if(e.ok){let n=await e.json();n&&t(n)}})()},[]);let{card:n,updateCard:l}=(0,o.useContext)(r.H),[c,u]=(0,o.useState)(null);return(0,o.useEffect)(()=>{(async()=>{u((0,i.ZP)(void 0,{path:"/api/socket"}))})();let e=e=>{c&&c.disconnect()};return window.addEventListener("beforeunload",e),l([]),()=>{window.removeEventListener("beforeunload",e),c&&c.disconnect()}},[]),(0,o.useEffect)(()=>{c&&c.emit("new order",null)},[c]),e&&(0,a.jsxs)("div",{className:"text-center md:mt-50 mt-10",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"#f59e0b",className:"size-20 mx-auto",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),(0,a.jsx)("h1",{className:"md:text-3xl text-xl font-semibold mt-4",children:"Đặt h\xe0ng th\xe0nh c\xf4ng"}),(0,a.jsx)("p",{className:"md:text-lg text-base mt-3 mb-10",children:e.thanks}),(0,a.jsx)(s.default,{href:"/",className:"mt-10 px-6 py-3 bg-amber-500 rounded-md text-white",children:"Trang chủ"})]})}},4971:function(e,t,n){"use strict";n.d(t,{CardProvider:function(){return o},H:function(){return s}});var a=n(7437),r=n(2265);let s=(0,r.createContext)({card:[],updateCard:()=>{},infoUser:[],updateInfoUser:()=>{}}),o=e=>{let{children:t}=e,[n,o]=(0,r.useState)([]),[i,l]=(0,r.useState)([]);return(0,r.useEffect)(()=>{localStorage.getItem("cardMilktea")&&o(JSON.parse(localStorage.getItem("cardMilktea"))),localStorage.getItem("infoMilktea")&&l(JSON.parse(localStorage.getItem("infoMilktea")))},[]),(0,a.jsx)(s.Provider,{value:{card:n,updateCard:e=>{o(e),localStorage.setItem("cardMilktea",JSON.stringify(e))},infoUser:i,updateInfoUser:e=>{l(e),localStorage.setItem("infoMilktea",JSON.stringify(e))}},children:t})}},7138:function(e,t,n){"use strict";n.d(t,{default:function(){return r.a}});var a=n(231),r=n.n(a)}},function(e){e.O(0,[231,999,971,23,744],function(){return e(e.s=3373)}),_N_E=e.O()}]);