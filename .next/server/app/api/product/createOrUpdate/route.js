"use strict";(()=>{var e={};e.id=179,e.ids=[179],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},88791:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>m,patchFetch:()=>g,requestAsyncStorage:()=>u,routeModule:()=>o,serverHooks:()=>l,staticGenerationAsyncStorage:()=>c});var a={};r.r(a),r.d(a,{POST:()=>s});var i=r(49303),p=r(88716),d=r(60670),n=r(11936);let s=async e=>{let t={name:"",idType:0,image:"",status:!1},r=await e.formData(),a=r.get("id"),i=a?parseInt(a,10):null;t.name=r.get("name"),t.image=r.get("image"),t.status="1"===r.get("status"),t.idType=parseInt(r.get("idType"));let p=r.get("productSizes"),d=p?JSON.parse(p):[];try{let e;if(e=i&&!isNaN(i)?await n.Z.Product.update({where:{id:i},data:t}):await n.Z.Product.create({data:t}),d.length>0){await n.Z.ProductSize.deleteMany({where:{idProduct:parseInt(e.id)}});for(let t=0;t<d.length;t++)await n.Z.ProductSize.create({data:{name:d[t].name,price:parseInt(d[t].price),idProduct:parseInt(e.id)}})}return new Response(JSON.stringify(e),{status:200})}catch(e){return new Response(e,{status:500})}},o=new i.AppRouteRouteModule({definition:{kind:p.x.APP_ROUTE,page:"/api/product/createOrUpdate/route",pathname:"/api/product/createOrUpdate",filename:"route",bundlePath:"app/api/product/createOrUpdate/route"},resolvedPagePath:"/www/wwwroot/milktea/app/api/product/createOrUpdate/route.js",nextConfigOutput:"",userland:a}),{requestAsyncStorage:u,staticGenerationAsyncStorage:c,serverHooks:l}=o,m="/api/product/createOrUpdate/route";function g(){return(0,d.patchFetch)({serverHooks:l,staticGenerationAsyncStorage:c})}},11936:(e,t,r)=>{r.d(t,{Z:()=>a});let a=new(require("@prisma/client")).PrismaClient},49303:(e,t,r)=>{e.exports=r(30517)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[948],()=>r(88791));module.exports=a})();