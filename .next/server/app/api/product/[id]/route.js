"use strict";(()=>{var e={};e.id=44,e.ids=[44],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},21258:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>h,patchFetch:()=>m,requestAsyncStorage:()=>c,routeModule:()=>d,serverHooks:()=>w,staticGenerationAsyncStorage:()=>l});var i={};r.r(i),r.d(i,{DELETE:()=>p,GET:()=>u});var n=r(49303),a=r(88716),s=r(60670),o=r(11936);let u=async(e,{params:t})=>{try{let e;if(e="all"==t.id?await o.Z.Product.findMany({include:{productSizes:!0}}):await o.Z.Product.findUnique({where:{id:parseInt(t.id)},include:{productSizes:!0}}))return new Response(JSON.stringify(e),{status:200});return new Response("Error",{status:500})}catch(e){return console.log(e),new Response(e,{status:500})}},p=async(e,{params:t})=>{try{let e=(await o.Z.Product.findUnique({where:{id:parseInt(t.id)}})).image.split("/").pop();if(await fetch(process.env.UPLOAD_URL,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({fileName:e})}),await o.Z.Product.delete({where:{id:parseInt(t.id)}}))return new Response("Deleted",{status:200});return new Response("Error",{status:500})}catch(e){return new Response(e,{status:500})}},d=new n.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/product/[id]/route",pathname:"/api/product/[id]",filename:"route",bundlePath:"app/api/product/[id]/route"},resolvedPagePath:"/www/wwwroot/milktea/app/api/product/[id]/route.js",nextConfigOutput:"",userland:i}),{requestAsyncStorage:c,staticGenerationAsyncStorage:l,serverHooks:w}=d,h="/api/product/[id]/route";function m(){return(0,s.patchFetch)({serverHooks:w,staticGenerationAsyncStorage:l})}},11936:(e,t,r)=>{r.d(t,{Z:()=>i});let i=new(require("@prisma/client")).PrismaClient},49303:(e,t,r)=>{e.exports=r(30517)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[948],()=>r(21258));module.exports=i})();