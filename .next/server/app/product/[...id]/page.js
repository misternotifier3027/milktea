(()=>{var e={};e.id=41,e.ids=[41],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},41287:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d}),s(22945),s(23358),s(88258);var r=s(23191),i=s(88716),a=s(37922),l=s.n(a),n=s(95231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let d=["",{children:["product",{children:["[...id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,22945)),"/www/wwwroot/milktea/app/product/[...id]/page.jsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,23358)),"/www/wwwroot/milktea/app/layout.jsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,88258)),"/www/wwwroot/milktea/app/not-found.jsx"]}],c=["/www/wwwroot/milktea/app/product/[...id]/page.jsx"],m="/product/[...id]/page",u={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/product/[...id]/page",pathname:"/product/[...id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},74316:(e,t,s)=>{Promise.resolve().then(s.bind(s,14758))},24718:(e,t,s)=>{Promise.resolve().then(s.bind(s,57477))},39231:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,12994,23)),Promise.resolve().then(s.t.bind(s,96114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,79671,23)),Promise.resolve().then(s.t.bind(s,41868,23)),Promise.resolve().then(s.t.bind(s,84759,23))},50880:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,79404,23))},14758:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(10326),i=s(46226),a=s(17577),l=s(57477),n=s(35047);let o=()=>{let e=(0,n.useParams)(),t=(0,n.useRouter)(),[s,o]=(0,a.useState)(null),[d,c]=(0,a.useState)(null),[m,u]=(0,a.useState)(!0),[p,x]=(0,a.useState)({idProduct:0,size:null,name:"",topping:[],quantity:0,total:0,note:""}),[h,g]=(0,a.useState)(null),{card:w,updateCard:f}=(0,a.useContext)(l.H),[v,j]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e=async()=>{let e=await fetch("/api/topping/all");e.ok&&c(await e.json())},t=async()=>{let e=await fetch("/api/other-custom");e.ok&&g((await e.json()).data)};d||h||(e(),t())},[]),(0,a.useEffect)(()=>{let t=async()=>{let t=e.id[0].slice(6);u(!0);let s=await fetch("/api/product/"+t);if(s.ok){let r=await s.json();if(o(r),e.id[1]&&w.length>0){let s=w[e.id[1]],r=s.note.split(", "),i=r.slice(0,r.length-h.length).join(", ");j(r.slice(r.length-h.length)),x({...p,idProduct:t,name:s.name,quantity:s.quantity,total:s.total,image:s.image,size:s.size,topping:s.topping,note:i})}else j([]),x({...p,idProduct:t,total:r.price,quantity:1,name:r.name,image:r.image,size:r.productSizes[0],topping:[],note:""})}};e.id[0]&&w&&h&&t()},[e.id,w,h]),(0,a.useEffect)(()=>{null!=s&&0!=p.quantity&&null!=d&&null!=v&&u(!1)},[p.quantity,s,d,v]),(0,a.useEffect)(()=>{if(p.size){let e=(p.size.price+p.topping.reduce((e,t)=>e+t.price*t.quantity,0))*p.quantity;x({...p,total:e})}},[p.size,p.topping,p.quantity]);let b=e=>{let t=e.toString().split("").reverse().join(""),s="";for(let e=0;e<t.length;e++)s+=t[e],(e+1)%3==0&&e+1!==t.length&&(s+=".");return s.split("").reverse().join("")+" đ"};return m?r.jsx("div",{class:"flex items-center justify-center h-screen",children:(0,r.jsxs)("div",{class:"relative",children:[r.jsx("div",{class:"h-24 w-24 rounded-full border-t-8 border-b-8 border-gray-200"}),r.jsx("div",{class:"absolute top-0 left-0 h-24 w-24 rounded-full border-t-8 border-b-8 border-blue-500 animate-spin"})]})}):r.jsx("div",{tabindex:"-1",className:" bg-white overflow-hidden md:max-h-screen transition-opacity duration-300 animate-zoom-in md:p-6",children:(0,r.jsxs)("div",{className:"relative w-full ",children:[r.jsx("button",{onClick:()=>t.push("/"),type:"button",className:"absolute z-30 bg-bodydark top-2 p-1 left-2 text-white rounded-full w-8 h-8 ml-auto inline-flex justify-center items-center",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-5",children:r.jsx("path",{fillRule:"evenodd",d:"M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z",clipRule:"evenodd"})})}),(0,r.jsxs)("div",{className:"mx-auto w-full flex md:flex-row flex-col gap-5",children:[r.jsx("div",{className:"w-full md:rounded-xl flex justify-end",children:r.jsx(i.default,{className:"md:w-125 w-full md:h-[95vh] my-auto aspect-4/3 object-cover md:rounded-xl",src:s.image,width:400,height:800})}),(0,r.jsxs)("div",{className:"w-full relative px-5 md:px-0 overflow-hidden",children:[(0,r.jsxs)("div",{className:"overflow-y-auto md:h-[95vh] xl:w-3/5 lg:w-4/5 w-full px-2 pb-30",children:[(0,r.jsxs)("div",{className:"",children:[r.jsx("div",{className:"uppercase md:text-2xl text-xl font-semibold",children:s.name}),(0,r.jsxs)("div",{className:"mt-4",children:[r.jsx("span",{className:"font-semibold uppercase text-lg",children:"Size "}),r.jsx("span",{children:"- Chọn 1"})]}),r.jsx("div",{className:"grid md:grid-cols-2 grid-cols-1 mt-5 gap-4",children:s.productSizes.map((e,t)=>r.jsx("div",{className:"w-full",children:(0,r.jsxs)("label",{className:"cursor-pointer w-full ",children:[r.jsx("input",{defaultChecked:p.size.id==e.id,type:"radio",className:"peer sr-only",name:"size",onChange:t=>x({...p,size:e})}),r.jsx("div",{className:"select-none rounded-md bg-white px-3 py-2 text-gray-600 ring-2 ring-transparent transition-all hover:shadow peer-checked:text-amber-500 peer-checked:ring-amber-500 peer-checked:ring-2",children:(0,r.jsxs)("div",{className:"flex gap-3 w-full",children:[r.jsx("div",{className:"flex items-center",children:r.jsx("div",{children:r.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"currentColor",d:"m10.6 13.8l-2.175-2.175q-.275-.275-.675-.275t-.7.3q-.275.275-.275.7q0 .425.275.7L9.9 15.9q.275.275.7.275q.425 0 .7-.275l5.675-5.675q.275-.275.275-.675t-.3-.7q-.275-.275-.7-.275q-.425 0-.7.275ZM12 22q-2.075 0-3.9-.788q-1.825-.787-3.175-2.137q-1.35-1.35-2.137-3.175Q2 14.075 2 12t.788-3.9q.787-1.825 2.137-3.175q1.35-1.35 3.175-2.138Q9.925 2 12 2t3.9.787q1.825.788 3.175 2.138q1.35 1.35 2.137 3.175Q22 9.925 22 12t-.788 3.9q-.787 1.825-2.137 3.175q-1.35 1.35-3.175 2.137Q14.075 22 12 22Z"})})})}),(0,r.jsxs)("div",{className:"flex md:flex-col flex-row justify-between w-full items-center md:items-start",children:[r.jsx("p",{className:"text-sm font-semibold uppercase text-gray-500",children:e.name}),r.jsx("p",{className:"text-sm font-bold",children:b(e.price)})]})]})})]})},t))})]}),(0,r.jsxs)("div",{className:"mt-5",children:[r.jsx("div",{className:"",children:r.jsx("span",{className:"font-semibold uppercase text-lg",children:"Topping"})}),r.jsx("div",{className:"grid md:grid-cols-2 grid-cols-1 mt-5 md:gap-4",children:d.map((e,t)=>(0,r.jsxs)("div",{className:`flex items-center justify-around select-none ${t!=d.length-1?"border-b border-bodydark md:border-none":""}  py-3 md:py-0`,children:[(0,r.jsxs)("div",{onClick:()=>{if(p.topping.find(t=>t.id==e.id)){let t=p.topping.filter(t=>(t.id==e.id&&(t.quantity+=1),t));x({...p,topping:t})}else x({...p,topping:[...p.topping,{id:e.id,quantity:1,name:e.name,price:e.price}]})},className:"cursor-pointer w-full flex gap-3 items-center",children:[r.jsx("div",{className:`size-6 border-2 text-white flex justify-center items-center font-semibold border-bodydark rounded-md ${p.topping.find(t=>t.id==e.id)?"bg-amber-500 border-amber-500":""}`,children:r.jsx("div",{children:p.topping.find(t=>t.id===e.id)?.quantity})}),(0,r.jsxs)("div",{className:"flex md:flex-col flex-row gap-5 md:gap-0 justify-between w-full md:w-fit",children:[r.jsx("p",{className:" text-gray-500",children:e.name}),r.jsx("p",{className:" ",children:b(e.price)})]})]}),p.topping.find(t=>t.id==e.id)&&r.jsx("div",{className:"cursor-pointer mx-4 hover:text-red",onClick:()=>{x({...p,topping:p.topping.filter(t=>t.id!=e.id)})},children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})})})]},t))})]}),h&&h.map((e,t)=>(0,r.jsxs)("div",{className:"mt-5 custom w-full",children:[r.jsx("div",{className:"",children:r.jsx("span",{className:"font-semibold uppercase text-lg",children:e.name})}),r.jsx("div",{className:"grid md:grid-cols-2 grid-cols-1 mt-5 gap-4",children:e.data.map((t,s)=>(0,r.jsxs)("label",{className:"flex gap-2 items-center",children:[r.jsx("input",{defaultChecked:0==v.length?0==s:null!=v.find(s=>s.split(": ")[0]==e.name&&s.split(": ")[1]==t.name),className:"peer sr-only",type:"radio",value:e.name+": "+t.name,name:e.name}),r.jsx("span",{className:"w-5 h-5 peer-checked:bg-amber-500 peer-checked:border-none border-2 border-body rounded-md",children:" "}),r.jsx("span",{className:"",children:t.name})]},s))})]},t)),(0,r.jsxs)("div",{className:"mt-10  relative",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5 absolute left-1 top-1/2 -translate-y-1/2",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})}),r.jsx("input",{type:"text",value:p.note,onChange:e=>x({...p,note:e.target.value}),placeholder:"Ghi chú sản phẩm",className:"ps-7 w-full border border-bodydark rounded-md p-3 outline-none"})]})]}),(0,r.jsxs)("div",{className:"flex items-center w-full xl:w-3/5 lg:w-4/5 justify-between md:absolute fixed  bottom-0 left-0 bg-white p-2 border-t border-bodydark1",children:[r.jsx("div",{className:"flex items-center gap-5",children:(0,r.jsxs)("div",{className:"flex gap-4 items-center",children:[r.jsx("div",{className:"bg-bodydark rounded-full p-1 text-white cursor-pointer",children:r.jsx("svg",{onClick:()=>{0==p.quantity?x({...p,quantity:0}):x({...p,quantity:p.quantity-=1})},xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"})})}),r.jsx("span",{className:"text-xl text-black",children:p.quantity}),r.jsx("div",{className:"bg-bodydark rounded-full p-1 text-white cursor-pointer ",children:r.jsx("svg",{onClick:()=>{x({...p,quantity:p.quantity+=1})},xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})})]})}),(0,r.jsxs)("button",{onClick:()=>{if(u(!0),0!=p.quantity){let t=document.querySelectorAll(".custom"),s=[];t.forEach(e=>{let t=e.querySelector('input[type="radio"]:checked').value;s.push(t)});let r={...p,note:p.note+", "+s.join(", ")};e.id[1]?f(w.map((t,s)=>s==e.id[1]?r:t)):f([...w,r])}else e.id[1]&&f(w.filter((t,s)=>s!=e.id[1]));t.push("/")},className:"w-fit rounded-md bg-amber-500 text-white py-2 px-5 font-semibold",children:["Th\xeam v\xe0o giỏ ",p.total?b(p.total):"0 đ"]})]})]})]})]})})}},57477:(e,t,s)=>{"use strict";s.d(t,{CardProvider:()=>l,H:()=>a});var r=s(10326),i=s(17577);let a=(0,i.createContext)({card:[],updateCard:()=>{},infoUser:[],updateInfoUser:()=>{}}),l=({children:e})=>{let[t,s]=(0,i.useState)([]),[l,n]=(0,i.useState)([]);return(0,i.useEffect)(()=>{localStorage.getItem("cardMilktea")&&s(JSON.parse(localStorage.getItem("cardMilktea"))),localStorage.getItem("infoMilktea")&&n(JSON.parse(localStorage.getItem("infoMilktea")))},[]),r.jsx(a.Provider,{value:{card:t,updateCard:e=>{s(e),localStorage.setItem("cardMilktea",JSON.stringify(e))},infoUser:l,updateInfoUser:e=>{n(e),localStorage.setItem("infoMilktea",JSON.stringify(e))}},children:e})}},35047:(e,t,s)=>{"use strict";var r=s(77389);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},23358:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c,metadata:()=>d});var r=s(19510),i=s(68570);let a=(0,i.createProxy)(String.raw`/www/wwwroot/milktea/components/client/CardProvider.jsx`),{__esModule:l,$$typeof:n}=a;a.default,(0,i.createProxy)(String.raw`/www/wwwroot/milktea/components/client/CardProvider.jsx#CardContext`);let o=(0,i.createProxy)(String.raw`/www/wwwroot/milktea/components/client/CardProvider.jsx#CardProvider`);s(7633);let d={title:"K\xednh ch\xe0o qu\xfd kh\xe1ch"},c=async({children:e})=>r.jsx("html",{lang:"en",children:r.jsx("body",{className:"bg-gray",children:r.jsx(o,{children:e})})})},88258:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n,dynamic:()=>a,metadata:()=>l});var r=s(19510),i=s(57371);let a="force-dynamic",l={title:"Kh\xf4ng t\xecm thấy"},n=()=>r.jsx("section",{className:"bg-white dark:bg-gray-900 ",children:r.jsx("div",{className:"container flex items-center min-h-screen px-6 py-12 mx-auto",children:(0,r.jsxs)("div",{className:"flex flex-col items-center max-w-sm mx-auto text-center",children:[r.jsx("p",{className:"p-3 text-sm font-medium text-primary-600 rounded-full bg-blue-50 dark:bg-gray-800",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-6 h-6",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"})})}),r.jsx("h1",{className:"mt-3 text-2xl font-semibold text-gray-800 dark:text-white md:text-3xl",children:"Kh\xf4ng t\xecm thấy trang"}),r.jsx("p",{className:"mt-4 text-gray-500 dark:text-gray-400",children:"Trang bạn đang t\xecm kiếm kh\xf4ng tồn tại!"}),r.jsx("div",{className:"flex items-center w-full mt-6 gap-x-3 shrink-0 sm:w-auto",children:r.jsx(i.default,{href:"/",className:"w-1/2 font-bold px-5 py-2 text-sm tracking-wide text-white transition-colors duration-200 bg-primary-500 rounded-lg shrink-0 sm:w-auto hover:bg-primary-600 ",children:"Trang chủ"})})]})})})},22945:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>a,default:()=>n});var r=s(68570);let i=(0,r.createProxy)(String.raw`/www/wwwroot/milktea/app/product/[...id]/page.jsx`),{__esModule:a,$$typeof:l}=i;i.default;let n=(0,r.createProxy)(String.raw`/www/wwwroot/milktea/app/product/[...id]/page.jsx#default`)},7633:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,779,226],()=>s(41287));module.exports=r})();